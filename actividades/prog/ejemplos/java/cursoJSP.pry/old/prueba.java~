package utl;

import  java.io.*;
import  java.util.*;

public class convierteFicheroHtmlAtxt
{
	String nombreFichero;
	
	public convierteFicheroHtmlAtxt() {}

	/*-----------------------------------------------*/
	public void setNombreFichero(String pNombreFichero)
	{  nombreFichero = new String(pNombreFichero);	}

	/*-----------------------------*/
	public String getNombreFichero()
	{  return nombreFichero; }

	/*------------------------------------------------------*/
	public String convierteStringHtmlAtxt(String entrada)
	{
		StringBuffer salida = new StringBuffer(entrada.length());
		char c;
		
		for(int i=0; i<entrada.length(); i++)
		{
		   c = entrada.charAt(i);
			if (c=='<')      {salida.append("&lt;");}
			else if (c=='>') {salida.append("&gt;");}
			else if (c=='"') {salida.append("&quot;");}
			else if (c=='&') {salida.append("&amp;");}
			else {salida.append(c);}
		}
		return (salida.toString());
	}

	/*----------------------*/
   public void ejecutar()
   {
      BufferedReader br;  String str, str1; 
		StringBuffer strb = new StringBuffer(); 
      try
      {
         File f = new File(nombreFichero); 
         if (f.canRead()) 
         {    
	    		br = new BufferedReader (new FileReader(f));
				/*Recorre todas las líneas del fichero*/
            while ((str=br.readLine()) != null)
	    		{
					/*Convierte la fila de HTML a TXT*/
	       		System.out.println(convierteStringHtmlAtxt(str));
	      	}
	    	}
      }
      catch (Exception e)
      { 
		     System.err.println("ERROR: "+e);
			  System.out.println("ERROR: "+e);
		}
   }
   
	/*----------------------------------*/
	public static void main(String args[])
	{
		convierteFicheroHtmlAtxt h = new convierteFicheroHtmlAtxt();
		h.setNombreFichero(args[0]);
		h.ejecutar();
		//System.out.println(h.convierteStringHtmlAtxt(args[0]));
	}
}


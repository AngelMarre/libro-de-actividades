/*
   Versión: DVR-20040912
   Tablas:  LOG_AVISOS, 
            PRI_SORTEO, 
            PRI_NUMERO,
            PRI_PAREJA, 
            PRI_APUESTA
*/

/*---------------------------------------------------*/

DROP TABLE LOG_AVISOS;

CREATE TABLE LOG_AVISOS 
(
    FECHA           TIMESTAMP     ,
    TIPO            VARCHAR(3)    NOT NULL DEFAULT 'LOG', --LOG,WRN,ERR,INF
    PRIORIDAD       INTEGER       NOT NULL DEFAULT 10,
    MODULO          VARCHAR(20)   ,
    ASUNTO          VARCHAR(20)   ,
    DESCRIPCION     VARCHAR(255)  
);
    

/*---------------------------------------------------*/
DROP TABLE PRI_SORTEO;

CREATE TABLE PRI_SORTEO
(
    FECHA           DATE         PRIMARY KEY,
    COD_SORTEO      VARCHAR(4)   NOT NULL,
    NUMERO1         INTEGER      NOT NULL DEFAULT 0,
    NUMERO2         INTEGER      NOT NULL DEFAULT 0,
    NUMERO3         INTEGER      NOT NULL DEFAULT 0,
    NUMERO4         INTEGER      NOT NULL DEFAULT 0,
    NUMERO5         INTEGER      NOT NULL DEFAULT 0,
    NUMERO6         INTEGER      NOT NULL DEFAULT 0,
    COMPLEMENTARIO  INTEGER      NOT NULL DEFAULT 0,
    REINTEGRO       INTEGER      NOT NULL DEFAULT 0,
    CHK_ORDENADO    VARCHAR(1)   NOT NULL DEFAULT 'N',
    TIPO            VARCHAR(1)   NOT NULL DEFAULT 'P',
    CHK_REVISADO    VARCHAR(1)   NOT NULL DEFAULT 'N'
);


CREATE INDEX PRI_SORTEO_IN01 ON PRI_SORTEO (COD_SORTEO);
CREATE INDEX PRI_SORTEO_IN02 ON PRI_SORTEO (NUMERO1);
CREATE INDEX PRI_SORTEO_IN03 ON PRI_SORTEO (NUMERO2);
CREATE INDEX PRI_SORTEO_IN04 ON PRI_SORTEO (NUMERO3);
CREATE INDEX PRI_SORTEO_IN05 ON PRI_SORTEO (NUMERO4);
CREATE INDEX PRI_SORTEO_IN06 ON PRI_SORTEO (NUMERO5);
CREATE INDEX PRI_SORTEO_IN07 ON PRI_SORTEO (NUMERO6);
CREATE INDEX PRI_SORTEO_IN08 ON PRI_SORTEO (COMPLEMENTARIO);
CREATE INDEX PRI_SORTEO_IN09 ON PRI_SORTEO (REINTEGRO);
CREATE INDEX PRI_SORTEO_IN10 ON PRI_SORTEO (CHK_ORDENADO);
CREATE INDEX PRI_SORTEO_IN11 ON PRI_SORTEO (TIPO);
CREATE INDEX PRI_SORTEO_IN12 ON PRI_SORTEO (CHK_REVISADO);


/*---------------------------------------------------*/
DROP TABLE PRI_NUMERO;

CREATE TABLE PRI_NUMERO
(
    NUMERO          INTEGER     NOT NULL PRIMARY KEY,
    CONTADOR_P      INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_PC     INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_PR     INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_B      INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_BC     INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_BR     INTEGER     NOT NULL DEFAULT 0
);


CREATE INDEX PRI_NUMERO_IN01 ON PRI_NUMERO (CONTADOR_P);
CREATE INDEX PRI_NUMERO_IN02 ON PRI_NUMERO (CONTADOR_B);

/*---------------------------------------------------*/
DROP TABLE PRI_PAREJA;

CREATE TABLE PRI_PAREJA
(
    NUMERO1         INTEGER     NOT NULL,
    NUMERO2         INTEGER     NOT NULL,
    CONTADOR_P      INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_PC1    INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_PC2    INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_PR1    INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_PR2    INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_B      INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_BC1    INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_BC2    INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_BR1    INTEGER     NOT NULL DEFAULT 0,
    CONTADOR_BR2    INTEGER     NOT NULL DEFAULT 0
);


CREATE INDEX PRI_PAREJA_IN01 ON PRI_PAREJA (NUMERO1);
CREATE INDEX PRI_PAREJA_IN02 ON PRI_PAREJA (NUMERO2);
CREATE INDEX PRI_PAREJA_IN03 ON PRI_PAREJA (CONTADOR_P);
CREATE INDEX PRI_PAREJA_IN04 ON PRI_PAREJA (CONTADOR_B);

/*---------------------------------------------------*/
DROP TABLE PRI_APUESTA;

CREATE TABLE PRI_APUESTA
(
   FECHA          DATE           NOT NULL,
   NUMERO1        INTEGER        NOT NULL,
   NUMERO2        INTEGER        NOT NULL,
   NUMERO3        INTEGER        NOT NULL,
   NUMERO4        INTEGER        NOT NULL,
   NUMERO5        INTEGER        NOT NULL,
   NUMERO6        INTEGER        NOT NULL,
   DESCRIPCION    VARCHAR(100)   NOT NULL,
   EFECTIVIDAD    INTEGER        NOT NULL DEFAULT 0
);

CREATE INDEX PRI_APUESTA_IN01 ON PRI_APUESTA (FECHA);
CREATE INDEX PRI_APUESTA_IN02 ON PRI_APUESTA (EFECTIVIDAD);




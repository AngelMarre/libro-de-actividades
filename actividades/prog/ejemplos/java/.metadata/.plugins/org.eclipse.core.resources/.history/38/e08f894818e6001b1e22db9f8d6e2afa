require $DIR_PROGRAMA + '/funciones'

class Ahorcado
  @palabras
  @palabra_secreta
  @ayuda_secreta
  
  def inicializar(fichero)
    leer_diccionario(fichero)
    iniciar_nueva_partida
  end
  
  def iniciar_nueva_partida
    @palabra_secreta, @ayuda_secreta = elegir_palabra_al_azar
  end
  
  def presentacion
    mostrar_titulo("Juego del ahorcado")
  end
  
  def leer_diccionario(fichero)
    @palabras = []
    f = File.new(fichero)
    f.each_line do |linea|
      @palabras << linea unless linea.rstrip.rindex('#')==0
    end
    return @palabras
  end

  def elegir_palabra_al_azar
    i = rand(@palabras.length)
    @palabras[i].split(':')
  end
  
  def jugar
    iniciar_nueva_partida
    fin=false
    while !fin
       puts "Letra?"
       #letra = gets 
       fin=true
    end
    info
  end
  
  def info
    puts "palabra secreta = " + @palabra_secreta
    puts "ayuda secreta   = " + @ayuda_secreta
  end
end
